<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaintsLND Secure Checkout</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- Stripe.js CDN -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Firebase CDNs (Modules are mandatory for firestore) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot, collection, query, addDoc, serverTimestamp, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Set Firebase logging level to Debug
        setLogLevel('Debug');

        // --- GLOBAL FIREBASE/AUTH SETUP (MANDATORY) ---
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-saintslnd-app';

        if (Object.keys(firebaseConfig).length > 0) {
            window.app = initializeApp(firebaseConfig);
            window.db = getFirestore(window.app);
            window.auth = getAuth(window.app);

            const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

            onAuthStateChanged(window.auth, async (user) => {
                const userId = user?.uid || crypto.randomUUID();
                window.currentUser = user;
                window.currentUserId = userId;

                // Initialize Stripe once Firebase auth is ready
                window.stripe = Stripe('pk_test_YOUR_PUBLIC_KEY');
                
            });

            // Initial authentication check
            (async () => {
                try {
                    if (initialAuthToken) {
                        await signInWithCustomToken(window.auth, initialAuthToken);
                        console.log("Signed in with custom token.");
                    } else {
                        await signInAnonymously(window.auth);
                        console.log("Signed in anonymously.");
                    }
                } catch (error) {
                    console.error("Firebase Auth Error:", error);
                }
            })();

        } else {
            console.error("Firebase config is missing. Database functionality is disabled.");
        }

        // --- FIRESTORE FUNCTIONS ---

        /** Sets up real-time listener for public checkout events. */
        function setupFirestoreListeners(userId) {
            const eventsRef = collection(window.db, `artifacts/${appId}/public/data/checkoutEvents`);
            const q = query(eventsRef);

            onSnapshot(q, (snapshot) => {
                const events = [];
                snapshot.forEach((doc) => {
                    events.push({ id: doc.id, ...doc.data() });
                });
                renderRecentEvents(events);
            }, (error) => {
                console.error("Error listening to events:", error);
            });
        }

        /** Renders the list of recent checkout events. */
        function renderRecentEvents(events) {
            const container = document.getElementById('event-list');
            container.innerHTML = '';
            
            // Sort by timestamp descending and take top 5
            events.sort((a, b) => (b.timestamp?.toMillis() || 0) - (a.timestamp?.toMillis() || 0));
            const recentEvents = events.slice(0, 5);

            if (recentEvents.length === 0) {
                container.innerHTML = '<p class="text-gray-500 italic">No recent checkout events.</p>';
                return;
            }

            recentEvents.forEach(event => {
                const time = event.timestamp ? new Date(event.timestamp.seconds * 1000).toLocaleTimeString() : 'N/A';
                const item = document.createElement('li');
                item.className = 'text-sm p-2 bg-gray-700/50 rounded-lg flex justify-between items-center mb-1';
                item.innerHTML = `
                    <span class="font-semibold text-white">${event.plan || 'Unknown'} - $${event.amount / 100 || 'N/A'}</span>
                    <span class="text-gray-400 text-xs">${time} by ${event.userId.substring(0, 8)}...</span>
                `;
                container.appendChild(item);
            });
        }

        /** * Logs a payment event to Firestore. 
         * This simulates what a server would do after a successful Stripe payment.
         */
        window.logCheckoutEvent = async (plan, amountCents, userId) => {
            if (!window.db) return;
            try {
                const eventsRef = collection(window.db, `artifacts/${appId}/public/data/checkoutEvents`);
                await addDoc(eventsRef, {
                    plan: plan,
                    amount: amountCents,
                    userId: userId,
                    timestamp: serverTimestamp()
                });
                console.log(`Checkout event logged for ${plan}`);
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        };

    </script>

    <style>
        :root {
            --color-basic: #06b6d4;
            --color-pro: #a855f7;
            --color-premium: #10b981;
            --header-height: 4rem; /* 64px */
            --ring-focus: 0 0 0 4px rgba(59, 130, 246, 0.5);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0b1121;
            overflow-x: hidden;
            color: #e2e8f0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .saintslnd-heading {
            text-shadow: 0 0 10px rgba(168, 85, 247, 0.5), 0 0 20px rgba(6, 182, 212, 0.3);
        }

        .hero {
            display: grid;
            place-items: center;
            padding: 4rem 1rem 2rem 1rem;
            text-align: center;
        }
        .hero h1 {
            line-height: 1.05;
        }
        .hero-actions { display: flex; gap: 0.75rem; justify-content: center; flex-wrap: wrap; }
        .cta-primary, .cta-secondary {
            position: relative;
            overflow: hidden;
            padding: 0.85rem 1.25rem;
            border-radius: 0.75rem;
            font-weight: 700;
            transition: transform 0.2s, background-color 0.3s, color 0.3s;
        }
        .cta-primary { background: linear-gradient(90deg, #22d3ee, #a855f7); color: white; border: 1px solid rgba(255,255,255,0.15); }
        .cta-secondary { background: transparent; color: #e2e8f0; border: 1px solid rgba(255,255,255,0.15); }
        .cta-primary:focus, .cta-secondary:focus { outline: none; box-shadow: var(--ring-focus); }
        .cta-primary:hover { transform: translateY(-2px); }
        .cta-secondary:hover { transform: translateY(-2px); background: rgba(255,255,255,0.06); }
        .cta-secondary .arrow { transition: transform 0.25s ease; display: inline-block; }
        .cta-secondary:hover .arrow { transform: translateX(4px); }

        /* 3D Social Emblems */
        .social-cta { position: relative; display: inline-flex; align-items: center; gap: 0.6rem; padding: 0.75rem 1rem; border-radius: 0.9rem; font-weight: 700; color: white; border: 1px solid rgba(255,255,255,0.18); box-shadow: 0 14px 40px rgba(0,0,0,0.35); transform: translateZ(0); transition: transform 180ms ease, box-shadow 240ms ease; }
        .social-cta:hover { transform: translateY(-3px) rotateX(2deg) rotateY(-2deg); box-shadow: 0 20px 60px rgba(0,0,0,0.45); }
        .social-cta .shine { position: absolute; inset: -30%; background: linear-gradient(120deg, rgba(255,255,255,0.0) 35%, rgba(255,255,255,0.25) 50%, rgba(255,255,255,0.0) 65%); transform: translateX(-60%); animation: shineSweep 3.2s ease-in-out infinite; pointer-events: none; border-radius: inherit; }
        .social-cta svg { width: 20px; height: 20px; filter: drop-shadow(0 2px 6px rgba(0,0,0,0.25)); }
        .emblem-fb { background: linear-gradient(90deg, #1877F2, #0ea5e9); }
        .emblem-ig { background: linear-gradient(90deg, #F56040, #FCAF45, #833AB4); }
        .emblem-x { background: linear-gradient(90deg, #111827, #0ea5e9); }

        /* Spotify-like player */
        .player-card { position: relative; overflow: hidden; display: grid; grid-template-columns: 72px 1fr; gap: 14px; align-items: center; padding: 14px; border-radius: 16px; background: linear-gradient(180deg, rgba(17,24,39,0.85), rgba(17,24,39,0.65)); border: 1px solid rgba(255,255,255,0.12); box-shadow: 0 16px 48px rgba(0,0,0,0.45); }
        .player-art { position: relative; width: 72px; height: 72px; border-radius: 10px; overflow: hidden; background: linear-gradient(135deg, #22d3ee33, #a855f733); display:flex; align-items:center; justify-content:center; }
        .player-art::after { content:""; position:absolute; inset:-6px; border-radius: 14px; box-shadow: 0 0 0 0 rgba(34,211,238,0.25); animation: pulseRing 2s ease-out infinite; }
        @keyframes pulseRing { 0%{ box-shadow: 0 0 0 0 rgba(34,211,238,0.35);} 70%{ box-shadow: 0 0 0 14px rgba(34,211,238,0);} 100%{ box-shadow: 0 0 0 0 rgba(34,211,238,0);} }
        .player-art svg { width: 38px; height: 38px; opacity: 0.85; }
        .player-title { font-weight: 800; color: #fff; letter-spacing: 0.2px; }
        .player-sub { color: #cbd5e1; font-size: 0.85rem; }
        .player-controls { display:flex; align-items:center; gap:10px; margin-top: 8px; }
        .ctrl { display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius: 999px; background:#111827; color:#e5e7eb; border:1px solid rgba(255,255,255,0.12); transition: transform .15s ease, background .2s ease; }
        .ctrl:hover { transform: translateY(-2px); background:#1f2937; }
        .ctrl svg { width:16px; height:16px; }
        .ctrl.play { background: linear-gradient(90deg, #22d3ee, #a855f7); color:white; }
        .progress { position: relative; height: 6px; background: rgba(148,163,184,0.25); border-radius: 999px; overflow:hidden; margin-top: 8px; }
        .progress::before { content:""; position:absolute; inset:-40% -60%; background: conic-gradient(from 180deg, rgba(34,211,238,0.18), rgba(168,85,247,0.18), rgba(16,185,129,0.18), rgba(34,211,238,0.18)); animation: waveShift 6s linear infinite; filter: blur(12px); }
        .progress-fill { position:absolute; top:0; left:0; height:100%; width:0%; background: linear-gradient(90deg, var(--color-basic), var(--color-pro)); box-shadow: 0 0 16px rgba(168,85,247,0.35); }
        .time-row { display:flex; justify-content: space-between; align-items:center; margin-top: 6px; color:#cbd5e1; font-size: 0.8rem; }
        .eq { display:inline-flex; align-items:flex-end; height:22px; gap:3px; margin-left: 6px; }
        .eq span { width:3px; background: linear-gradient(180deg, #22d3ee, #a855f7); box-shadow: 0 0 8px rgba(168,85,247,0.45); display:block; animation: eq 900ms ease-in-out infinite; transform-origin: bottom; border-radius: 2px; }
        @keyframes eq { 0%,100%{ transform: scaleY(0.25);} 50%{ transform: scaleY(1);} }
        @keyframes waveShift { 0%{ transform: rotate(0deg) } 100%{ transform: rotate(360deg) } }
        .wave-back { position:absolute; inset:-30% -10%; background: radial-gradient(60% 60% at 20% 20%, rgba(34,211,238,0.08), transparent 60%), radial-gradient(60% 60% at 80% 80%, rgba(168,85,247,0.08), transparent 60%); filter: blur(20px); animation: waveDrift 14s ease-in-out infinite alternate; pointer-events: none; }
        @keyframes waveDrift { 0%{ transform: translateX(-2%) translateY(1%)} 100%{ transform: translateX(2%) translateY(-1%)} }

        /* Mini player */
        .mini-player { position: fixed; right: 16px; bottom: 16px; z-index: 60; width: 280px; display: none; }
        .mini-card { display:grid; grid-template-columns: 56px 1fr; gap:10px; align-items:center; padding:10px; border-radius:14px; background: rgba(17,24,39,0.85); border:1px solid rgba(255,255,255,0.12); box-shadow: 0 16px 48px rgba(0,0,0,0.5); backdrop-filter: blur(10px); }
        .mini-art { width:56px; height:56px; border-radius:8px; overflow:hidden; background: linear-gradient(135deg, #22d3ee33, #a855f733); display:flex; align-items:center; justify-content:center; }
        .mini-controls { display:flex; align-items:center; gap:8px; }
        .mini-ctrl { display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:999px; background:#111827; color:#e5e7eb; border:1px solid rgba(255,255,255,0.12); }
        .mini-ctrl.play { background: linear-gradient(90deg, #22d3ee, #a855f7); color:white; }
        .mini-progress { position: relative; height: 4px; background: rgba(148,163,184,0.25); border-radius: 999px; overflow:hidden; margin-top:6px; }
        .mini-progress-fill { position:absolute; top:0; left:0; height:100%; width:0%; background: linear-gradient(90deg, var(--color-basic), var(--color-pro)); }
        .mini-row { display:flex; align-items:center; gap:8px; margin-top:6px; }
        .mini-vol { -webkit-appearance: none; appearance: none; width: 100%; height: 4px; background: rgba(148,163,184,0.25); border-radius: 999px; outline: none; }
        .mini-vol::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 12px; height: 12px; border-radius: 50%; background: #a855f7; cursor: pointer; box-shadow: 0 0 0 3px rgba(168,85,247,0.25); }

        .glass-container {
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            background-color: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
        }

        /* 3D Swoosh Background */
        .swoosh-scene {
            position: fixed;
            inset: 0;
            z-index: -10;
            perspective: 1000px;
            overflow: hidden;
        }
        .swoosh-layer {
            position: absolute;
            width: 140%;
            height: 140%;
            left: -20%;
            top: -20%;
            transform-style: preserve-3d;
            filter: blur(12px) saturate(1.2);
            opacity: 0.5;
            background: conic-gradient(from 180deg at 50% 50%, rgba(34,211,238,0.35), rgba(168,85,247,0.35), rgba(16,185,129,0.35), rgba(250,204,21,0.25), rgba(34,211,238,0.35));
            animation: swooshRotate 18s linear infinite;
        }
        .swoosh-layer.layer2 {
            opacity: 0.35;
            mix-blend-mode: screen;
            transform: translateZ(-120px) rotateX(12deg) rotateY(-8deg);
            animation-duration: 26s;
            animation-direction: reverse;
        }
        .swoosh-layer.layer3 {
            opacity: 0.25;
            mix-blend-mode: lighten;
            transform: translateZ(-240px) rotateX(-10deg) rotateY(6deg);
            animation-duration: 34s;
        }
        @keyframes swooshRotate {
            0% { transform: translateZ(-60px) rotateX(8deg) rotateY(-6deg) rotate(0deg) scale(1.05); }
            50% { transform: translateZ(-60px) rotateX(-6deg) rotateY(8deg) rotate(180deg) scale(1.08); }
            100% { transform: translateZ(-60px) rotateX(8deg) rotateY(-6deg) rotate(360deg) scale(1.05); }
        }

        /* Founder photo animations */
        .founder-frame { position: relative; border-radius: 1rem; overflow: hidden; border: 1px solid rgba(255,255,255,0.18); box-shadow: 0 20px 60px rgba(0,0,0,0.35); transform: translateZ(0); }
        .founder-frame:hover { transform: translateY(-4px) rotateX(2deg) rotateY(-2deg); transition: transform 200ms ease; }
        .founder-frame .shine { position: absolute; inset: -20%; background: linear-gradient(120deg, rgba(255,255,255,0.0) 30%, rgba(255,255,255,0.25) 50%, rgba(255,255,255,0.0) 70%); transform: translateX(-60%); animation: shineSweep 3s ease-in-out infinite; pointer-events: none; }
        @keyframes shineSweep { 0% { transform: translateX(-60%) rotate(8deg); } 50% { transform: translateX(40%) rotate(8deg);} 100% { transform: translateX(140%) rotate(8deg);} }
        .float-bob { animation: floatBob 5s ease-in-out infinite; }
        @keyframes floatBob { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-6px);} }
        .img-reveal { opacity: 0; transform: scale(1.02); filter: saturate(0.9) blur(2px); animation: revealIn 700ms ease forwards; }
        @keyframes revealIn { to { opacity: 1; transform: scale(1); filter: none; } }
        .img-skeleton { background: linear-gradient(90deg, rgba(255,255,255,0.06) 25%, rgba(255,255,255,0.12) 37%, rgba(255,255,255,0.06) 63%); background-size: 400% 100%; animation: skeleton 1.4s ease-in-out infinite; }
        @keyframes skeleton { 0% { background-position: 100% 50% } 100% { background-position: 0 50% } }

        /* Pricing cards tilt + glow */
        .pricing-card {
            transition: transform 0.15s ease, box-shadow 0.3s ease, border-color 0.3s ease;
            will-change: transform;
        }
        .pricing-card:hover { box-shadow: 0 24px 60px rgba(0,0,0,0.35); }
        .pricing-card[data-tilt="true"] { transform: perspective(1000px) rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg)) translateZ(0); }

        /* Animated CTA Buttons */
        .btn-checkout { transition: background-color 0.3s, transform 0.2s; will-change: transform; transform-style: preserve-3d; }
        .btn-checkout:hover { animation: btnFlip 700ms ease both; }
        @keyframes btnFlip {
            0% { transform: translateY(0) rotateY(0deg) rotateX(0deg); }
            40% { transform: translateY(-2px) rotateY(12deg) rotateX(3deg); }
            70% { transform: translateY(-1px) rotateY(-6deg) rotateX(-2deg); }
            100% { transform: translateY(0) rotateY(0deg) rotateX(0deg); }
        }

        /* Basic: cyan wave slide underline + swoosh */
        .btn-basic { position: relative; overflow: hidden; }
        .btn-basic::after {
            content: "";
            position: absolute;
            left: -120%;
            bottom: 0;
            width: 120%;
            height: 3px;
            background: linear-gradient(90deg, transparent, var(--color-basic), transparent);
            animation: basicSlide 2.2s ease-in-out infinite;
        }
        .btn-basic::before {
            content: "";
            position: absolute;
            top: -60%;
            left: -40%;
            width: 60%;
            height: 220%;
            background: linear-gradient(60deg, rgba(34,211,238,0.0), rgba(34,211,238,0.35), rgba(34,211,238,0.0));
            transform: rotate(18deg);
            animation: btnSwoosh 2.6s ease-in-out infinite;
            pointer-events: none;
        }
        @keyframes basicSlide {
            0% { left: -120%; }
            50% { left: 0%; }
            100% { left: 120%; }
        }
        @keyframes btnSwoosh {
            0% { left: -40%; opacity: 0.0; }
            25% { opacity: 0.4; }
            60% { left: 110%; opacity: 0.0; }
            100% { left: 120%; opacity: 0.0; }
        }

        /* Pro: purple sheen diagonal sweep + swoosh */
        .btn-pro { position: relative; overflow: hidden; transform-style: preserve-3d; }
        .btn-pro::before {
            content: "";
            position: absolute;
            top: -60%;
            left: -30%;
            width: 40%;
            height: 220%;
            background: linear-gradient(60deg, rgba(255,255,255,0.0), rgba(255,255,255,0.35), rgba(255,255,255,0.0));
            transform: rotate(20deg) translateZ(10px);
            animation: proSheen 2.8s ease-in-out infinite;
        }
        @keyframes proSheen {
            0% { left: -30%; }
            50% { left: 90%; }
            100% { left: 120%; }
        }
        .btn-pro::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 70%;
            height: 220%;
            background: linear-gradient(60deg, rgba(168,85,247,0.0), rgba(168,85,247,0.35), rgba(168,85,247,0.0));
            transform: rotate(24deg);
            animation: btnSwoosh 3.1s ease-in-out infinite 0.2s;
            pointer-events: none;
        }

        /* Premium: emerald pulse with scale bounce + swoosh */
        .btn-premium { box-shadow: 0 0 0 0 rgba(16,185,129,0.6); animation: premiumPulse 2.1s ease-in-out infinite; }
        @keyframes premiumPulse {
            0% { box-shadow: 0 0 0 0 rgba(16,185,129,0.55); transform: translateY(0) scale(1); }
            40% { box-shadow: 0 0 0 14px rgba(16,185,129,0.0); transform: translateY(-2px) scale(1.03); }
            100% { box-shadow: 0 0 0 0 rgba(16,185,129,0.0); transform: translateY(0) scale(1); }
        }
        .btn-premium { position: relative; overflow: hidden; }
        .btn-premium::after {
            content: "";
            position: absolute;
            top: -50%;
            left: -60%;
            width: 80%;
            height: 220%;
            background: linear-gradient(60deg, rgba(16,185,129,0.0), rgba(16,185,129,0.35), rgba(16,185,129,0.0));
            transform: rotate(18deg);
            animation: btnSwoosh 2.4s ease-in-out infinite 0.15s;
            pointer-events: none;
        }

        /* Respect reduced motion */
        @media (prefers-reduced-motion: reduce) {
            .swoosh-layer, .btn-checkout:hover, .btn-basic::after, .btn-pro::before, .btn-pro::after, .btn-premium::after { animation: none !important; }
            .btn-checkout, .swoosh-layer { transition: none !important; }
        }
    </style>
</head>
<body>
    <!-- 3D Swoosh Background -->
    <div class="swoosh-scene">
        <div class="swoosh-layer layer1"></div>
        <div class="swoosh-layer layer2"></div>
        <div class="swoosh-layer layer3"></div>
    </div>

    <!-- Main Application Container -->
    <div id="app-container" class="relative z-10 w-full min-h-screen pt-16 pb-8">
        

        

        <!-- Hero -->
        <section class="hero">
            <h1 class="saintslnd-heading text-6xl md:text-7xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 via-fuchsia-400 to-emerald-400">
                Build a Standout, Animated Profile
            </h1>
            <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto mb-6">
                Modern, animated, and interactive landing pages tailored to your brand. Choose your plan and go live fast.
            </p>
            <div class="hero-actions">
                <a href="#pricing" class="cta-primary" aria-label="Jump to pricing">Get Started</a>
            </div>
        </section>

        <!-- Sticky Mini Player -->
        <div id="mini-player" class="mini-player" aria-live="polite">
            <div class="mini-card">
                <div class="mini-art">
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2zm4.38 13.74a.75.75 0 0 1-1.03.26c-2.82-1.73-6.37-2.12-10.54-1.14a.75.75 0 1 1-.34-1.46c4.48-1.05 8.34-.61 11.45 1.26.36.22.47.69.26 1.04zm1.37-3.06a.9.9 0 0 1-1.23.31c-3.23-1.98-8.15-2.56-11.97-1.37a.9.9 0 1 1-.52-1.72c4.21-1.27 9.58-.62 13.2 1.57.43.26.57.82.32 1.21zm.2-3.14c-3.68-2.19-9.83-2.39-13.35-1.29a1.05 1.05 0 1 1-.61-2.01c4.09-1.24 10.88-1 15.09 1.51a1.05 1.05 0 0 1-1.13 1.79z"/></svg>
                </div>
                <div>
                    <div class="player-title">Now Playing</div>
                    <div class="mini-controls">
                        <button id="mini-play" class="mini-ctrl play" aria-label="Play/Pause">
                            <svg id="mini-play-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>
                        </button>
                        <button id="mini-mute" class="mini-ctrl" aria-label="Mute/Unmute">
                            <svg id="mini-mute-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M7 9v6h4l5 5V4l-5 5H7z"/></svg>
                        </button>
                    </div>
                    <div class="mini-progress" aria-hidden="true"><div id="mini-progress" class="mini-progress-fill"></div></div>
                    <div class="mini-row">
                        <span id="mini-elapsed" class="text-xs text-gray-300">0:00</span>
                        <input id="mini-volume" class="mini-vol" type="range" min="0" max="100" value="60" aria-label="Volume" />
                        <span id="mini-total" class="text-xs text-gray-300">0:00</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Spotify-like Now Playing Card -->
        <section class="max-w-4xl mx-auto px-8 pb-10">
            <div class="player-card">
                <div class="wave-back"></div>
                <div class="player-art">
                    <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2zm4.38 13.74a.75.75 0 0 1-1.03.26c-2.82-1.73-6.37-2.12-10.54-1.14a.75.75 0 1 1-.34-1.46c4.48-1.05 8.34-.61 11.45 1.26.36.22.47.69.26 1.04zm1.37-3.06a.9.9 0 0 1-1.23.31c-3.23-1.98-8.15-2.56-11.97-1.37a.9.9 0 1 1-.52-1.72c4.21-1.27 9.58-.62 13.2 1.57.43.26.57.82.32 1.21zm.2-3.14c-3.68-2.19-9.83-2.39-13.35-1.29a1.05 1.05 0 1 1-.61-2.01c4.09-1.24 10.88-1 15.09 1.51a1.05 1.05 0 0 1-1.13 1.79z"/></svg>
                </div>
                <div>
                    <div class="player-title">Me 2 U (Want You Back)</div>
                    <div class="player-sub">YouTube • Autoplaying</div>
                    <div class="player-controls">
                        <button id="yt-play" class="ctrl play" aria-label="Play/Pause">
                            <svg id="yt-play-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M8 5v14l11-7z"/></svg>
                        </button>
                        <button id="yt-mute" class="ctrl" aria-label="Mute/Unmute">
                            <svg id="yt-mute-icon" viewBox="0 0 24 24"><path fill="currentColor" d="M7 9v6h4l5 5V4l-5 5H7z"/></svg>
                        </button>
                        <div class="eq" aria-hidden="true"><span style="height:10px"></span><span style="height:14px"></span><span style="height:18px"></span><span style="height:12px"></span><span style="height:20px"></span></div>
                    </div>
                    <div id="yt-progress-bar" class="progress" role="slider" aria-label="Track progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" tabindex="0"><div id="yt-progress" class="progress-fill"></div></div>
                    <div class="time-row"><span id="yt-time-elapsed">0:00</span><span id="yt-time-total">0:00</span></div>
                </div>
            </div>
            <div class="hidden">
                <div id="yt-embed" style="width:0;height:0;visibility:hidden"></div>
            </div>
        </section>

        <!-- Pricing Tab Content -->
        <section id="pricing-tab" class="tab-content max-w-6xl mx-auto p-8">
            <header class="text-center mb-16">
                <h1 class="saintslnd-heading text-6xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-fuchsia-500">
                    SaintsLND: Elevate Your Digital Presence
                </h1>
                <p class="text-xl text-gray-400 max-w-2xl mx-auto">
                    Choose your plan and elevate your profile with animations and interactive design.
                </p>
            </header>

            <div id="pricing" class="grid md:grid-cols-3 gap-8">
                <!-- 1. Basic Plan -->
                <div class="glass-container pricing-card p-6 flex flex-col items-center text-center" role="article" aria-label="Basic plan card">
                    <h2 class="text-3xl font-bold mb-2 text-cyan-300">Basic</h2>
                    <p class="text-5xl font-extrabold mb-6">$40</p>
                    <ul class="space-y-3 mb-8 text-left w-full max-w-xs">
                        <li class="flex items-center text-gray-300"><span class="text-cyan-400 mr-3">✅</span> Bio, photo, and essential links</li>
                    </ul>
                    <div class="mt-auto w-full p-1">
                        <button onclick="handleCheckout('Basic', 4000)" class="btn-checkout btn-basic w-full py-3 rounded-xl font-semibold border-2 border-cyan-500 bg-cyan-700 hover:bg-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-400/70 transition text-base" aria-label="Choose Basic plan for $40">
                            Choose Basic
                        </button>
                    </div>
                </div>

                <!-- 2. Pro Plan -->
                <div class="glass-container pricing-card p-6 flex flex-col items-center text-center scale-105 border-2 border-fuchsia-500 shadow-2xl shadow-fuchsia-800/50" role="article" aria-label="Pro plan card">
                    <h2 class="text-3xl font-bold mb-2 text-purple-400">Pro</h2>
                    <p class="text-5xl font-extrabold mb-6">$75</p>
                    <ul class="space-y-3 mb-8 text-left w-full max-w-xs">
                        <li class="flex items-center text-gray-300"><span class="text-purple-400 mr-3">✅</span> Custom colors</li>
                        <li class="flex items-center text-gray-300"><span class="text-purple-400 mr-3">✅</span> Embedded media</li>
                        <li class="flex items-center text-gray-300"><span class="text-purple-400 mr-3">✅</span> Engagement tracking</li>
                    </ul>
                    <div class="mt-auto w-full p-1">
                        <button onclick="handleCheckout('Pro', 7500)" class="btn-checkout btn-pro w-full py-3 rounded-xl font-semibold border-2 border-fuchsia-500 bg-fuchsia-700 hover:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-fuchsia-400/70 transition text-base" aria-label="Choose Pro plan for $75">
                            Go Pro Now
                        </button>
                    </div>
                </div>

                <!-- 3. Premium Plan -->
                <div class="glass-container pricing-card p-6 flex flex-col items-center text-center" role="article" aria-label="Premium plan card">
                    <h2 class="text-3xl font-bold mb-2 text-emerald-300">Premium</h2>
                    <p class="text-5xl font-extrabold mb-6">$200</p>
                    <ul class="space-y-3 mb-8 text-left w-full max-w-xs">
                        <li class="flex items-center text-gray-300"><span class="text-emerald-400 mr-3">✅</span> Fully tailored design</li>
                        <li class="flex items-center text-gray-300"><span class="text-emerald-400 mr-3">✅</span> Advanced features</li>
                        <li class="flex items-center text-gray-300"><span class="text-emerald-400 mr-3">✅</span> Animations</li>
                        <li class="flex items-center text-gray-300"><span class="text-emerald-400 mr-3">✅</span> Custom layouts</li>
                        <li class="flex items-center text-gray-300"><span class="text-emerald-400 mr-3">✅</span> Interactive elements</li>
                    </ul>
                    <div class="mt-auto w-full p-1">
                        <button onclick="handleCheckout('Premium', 20000)" class="btn-checkout btn-premium w-full py-3 rounded-xl font-semibold border-2 border-emerald-500 bg-emerald-700 hover:bg-lime-500 focus:outline-none focus:ring-2 focus:ring-emerald-400/70 transition text-base" aria-label="Choose Premium plan for $200">
                            Unlock Premium
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Founder & CEO Section -->
        <section id="founder" class="max-w-5xl mx-auto px-8 pb-20">
            <div class="glass-container p-8">
                    <p class="uppercase tracking-wider text-xs text-cyan-300/80 mb-2">Founder & CEO</p>
                    <h3 class="text-3xl md:text-4xl font-extrabold mb-4 text-white">Tre</h3>
                    <div class="space-y-4 text-gray-300 leading-relaxed">
                        <p>My name is Tre, and I’m a web developer based in Harrisburg, Pennsylvania, with over five years of experience in both front-end and back-end development. My work is driven by a passion for helping individuals and small businesses who may not have the financial resources to access high-quality digital solutions. I strive to create opportunities for growth and visibility through clean, functional, and impactful web design.</p>
                        <p>In addition to web development, I’m also involved in music, photography, videography, and content creation — disciplines that continually influence my creative vision and approach to building meaningful digital experiences.</p>
                    </div>
                <div class="mt-6 flex flex-wrap gap-3">
                    <a href="#pricing" class="cta-primary" aria-label="Start a project">Start a Project</a>
                    <a href="https://www.facebook.com/Kishin187" target="_blank" rel="noopener" class="social-cta emblem-fb" aria-label="Visit Facebook profile">
                        <span class="shine"></span>
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07c0 5 3.66 9.14 8.44 9.93v-7.03H7.9v-2.9h2.54V9.41c0-2.5 1.49-3.89 3.77-3.89 1.09 0 2.23.2 2.23.2v2.46h-1.26c-1.24 0-1.63.77-1.63 1.56v1.87h2.77l-.44 2.9h-2.33V22c4.78-.79 8.44-4.93 8.44-9.93z"/>
                        </svg>
                        Facebook
                    </a>
                    <a href="https://www.instagram.com/melrosesaintmusic/" target="_blank" rel="noopener" class="social-cta emblem-ig" aria-label="Visit Instagram profile">
                        <span class="shine"></span>
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5A5.5 5.5 0 1 1 6.5 13 5.5 5.5 0 0 1 12 7.5zm0 2A3.5 3.5 0 1 0 15.5 13 3.5 3.5 0 0 0 12 9.5zm5.75-3.25a1.25 1.25 0 1 1-1.25 1.25 1.25 1.25 0 0 1 1.25-1.25z"/>
                        </svg>
                    Instagram
                    </a>
                    <a href="https://x.com/saintlabs" target="_blank" rel="noopener" class="social-cta emblem-x" aria-label="Visit X (Twitter) profile">
                        <span class="shine"></span>
                        <svg viewBox="0 0 24 24" aria-hidden="true">
                            <path fill="currentColor" d="M13.5 10.7 20.7 2h-1.9l-6 7.1L8.2 2H2.7l7.6 11-7.6 9h1.9l6.4-7.6 4.7 7.6h5.5l-7.7-11.4zm-2.3 2.7-.7-.9L5 3.6h2.1l3.5 5.8.7.9 5.9 9.7h-2.1l-3.9-6.6z"/>
                        </svg>
                        X / Twitter
                    </a>
                </div>
            </div>
        </section>
        
        

    </div>

    

    <!-- Custom Modal for Messages -->
    <div id="success-message" class="hidden fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4">
        <div class="glass-container p-8 max-w-sm w-full text-center">
            <p id="modal-text" class="text-xl font-bold mb-4 text-cyan-300">Message</p>
            <button class="mt-6 bg-cyan-600 hover:bg-cyan-700 text-white font-semibold py-2 px-4 rounded-lg transition" onclick="hideModal('success-message')">
                Close
            </button>
        </div>
    </div>

    <script>
        // --- CLIENT-SIDE JS LOGIC ---

        function showTab(tabName) {}

        function showModal(id, message = '') {
            const modal = document.getElementById(id);
            if (message && id === 'success-message') {
                document.getElementById('modal-text').textContent = message;
            }
            modal.classList.remove('hidden');
        }

        function hideModal(id) {
            document.getElementById(id).classList.add('hidden');
        }

        /**
         * Simulates a secure payment flow using Stripe Checkout.
         * The price is passed, but the actual Stripe Session creation must happen on a server.
         * We redirect the user to a mock success/cancel page for demonstration.
         */
        async function handleCheckout(planName, amountCents) {
            if (!window.stripe) {
                showModal('success-message', 'Stripe.js not initialized.');
                return;
            }
            try {
                const response = await fetch('http://localhost:4242/create-checkout-session', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ plan: planName, amount: amountCents })
                });
                const data = await response.json();
                if (!response.ok) throw new Error(data.error || 'Failed to create session');

                // Optional demo logging
                if (window.logCheckoutEvent && window.currentUserId) {
                    window.logCheckoutEvent(planName, amountCents, window.currentUserId);
                }

                const result = await window.stripe.redirectToCheckout({ sessionId: data.id });
                if (result.error) {
                    showModal('success-message', result.error.message || 'Redirect failed');
                }
            } catch (err) {
                showModal('success-message', err.message || 'Checkout failed');
            }
        }

        // --- Handle post-payment URL parameters (for mock success/cancel) ---
        window.onload = function () {
            const urlParams = new URLSearchParams(window.location.search);
            const paymentStatus = urlParams.get('payment');
            const plan = urlParams.get('plan');
            const price = urlParams.get('price');

            if (paymentStatus === 'success') {
                showModal('success-message', `Payment for ${plan} successful! Price: $${price / 100}.`);
                // Clear URL parameters to prevent modal from reappearing on refresh
                history.replaceState(null, '', window.location.pathname);
            } else if (paymentStatus === 'cancel') {
                showModal('success-message', 'Payment cancelled. Please try again.');
                // Clear URL parameters
                history.replaceState(null, '', window.location.pathname);
            }
            
            // No tabs now

            // Enable subtle parallax for swoosh layers
            const scene = document.querySelector('.swoosh-scene');
            const layers = document.querySelectorAll('.swoosh-layer');
            let mouseX = 0, mouseY = 0;
            if (scene && layers.length) {
                window.addEventListener('mousemove', (e) => {
                    const { innerWidth: w, innerHeight: h } = window;
                    mouseX = (e.clientX / w - 0.5) * 2; // -1 to 1
                    mouseY = (e.clientY / h - 0.5) * 2; // -1 to 1
                    layers.forEach((layer, i) => {
                        const depth = (i + 1) * 6; // different depth per layer
                        layer.style.transform = `translateZ(-60px) rotateX(${8 - mouseY * depth}deg) rotateY(${-6 + mouseX * depth}deg) rotate(${(performance.now() / (18000 - i * 2000)) * 360}deg) scale(1.05)`;
                    });
                });
            }

            // Tilt effect for pricing cards
            const cards = document.querySelectorAll('.pricing-card');
            cards.forEach((card) => {
                card.setAttribute('data-tilt', 'true');
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    const cx = e.clientX - rect.left;
                    const cy = e.clientY - rect.top;
                    const rx = ((cy / rect.height) - 0.5) * -8; // tilt X
                    const ry = ((cx / rect.width) - 0.5) * 8;  // tilt Y
                    card.style.setProperty('--rx', `${rx}deg`);
                    card.style.setProperty('--ry', `${ry}deg`);
                });
                card.addEventListener('mouseleave', () => {
                    card.style.setProperty('--rx', `0deg`);
                    card.style.setProperty('--ry', `0deg`);
                });
            });

            // Founder image removed; no runtime loader needed

            // YouTube Player API loader and synced visualizer
            const ytContainer = document.getElementById('yt-embed');
            const playBtn = document.getElementById('yt-play');
            const playIconSvg = document.getElementById('yt-play-icon');
            const playIconPath = playIconSvg ? playIconSvg.querySelector('path') : null;
            const muteBtn = document.getElementById('yt-mute');
            const muteIconSvg = document.getElementById('yt-mute-icon');
            const muteIconPath = muteIconSvg ? muteIconSvg.querySelector('path') : null;
            const progressFill = document.getElementById('yt-progress');
            let player; let rafId;
            window.onYouTubeIframeAPIReady = function() {
                player = new YT.Player('yt-embed', {
                    height: '0', width: '0',
                    videoId: 'b0x-ccdkdKA',
                    playerVars: {
                        autoplay: 1, mute: 1, playsinline: 1, loop: 1, playlist: 'b0x-ccdkdKA',
                        rel: 0, modestbranding: 1
                    },
                    events: {
                        onReady: () => {
                            const vol = miniVol ? Number(miniVol.value) || 60 : 60;
                            player.setVolume(vol);
                            setPlayIcon(true);
                            setMuteIcon(true);
                            animate();
                        },
                    }
                });
            };
            // load api
            const tag = document.createElement('script'); tag.src = "https://www.youtube.com/iframe_api"; document.body.appendChild(tag);

            function fmt(t){ t = Math.max(0, t|0); const m = (t/60)|0; const s = (t%60)|0; return m+":"+(s<10?"0":"")+s; }
            const timeElapsedEl = document.getElementById('yt-time-elapsed');
            const timeTotalEl = document.getElementById('yt-time-total');
            const progressBar = document.getElementById('yt-progress-bar');
            // Mini player refs
            const mini = document.getElementById('mini-player');
            const miniPlay = document.getElementById('mini-play');
            const miniPlayIconSvg = document.getElementById('mini-play-icon');
            const miniPlayIconPath = miniPlayIconSvg ? miniPlayIconSvg.querySelector('path') : null;
            const miniMute = document.getElementById('mini-mute');
            const miniMuteIconSvg = document.getElementById('mini-mute-icon');
            const miniMuteIconPath = miniMuteIconSvg ? miniMuteIconSvg.querySelector('path') : null;
            const miniVol = document.getElementById('mini-volume');
            const miniElapsed = document.getElementById('mini-elapsed');
            const miniTotal = document.getElementById('mini-total');
            const miniProgress = document.getElementById('mini-progress');

            function animate() {
                if (!player || typeof player.getDuration !== 'function') { rafId = requestAnimationFrame(animate); return; }
                const dur = player.getDuration() || 1; const cur = player.getCurrentTime() || 0;
                const pct = Math.max(0, Math.min(100, (cur / dur) * 100));
                if (progressFill) progressFill.style.width = pct + '%';
                if (timeElapsedEl) timeElapsedEl.textContent = fmt(cur);
                if (timeTotalEl) timeTotalEl.textContent = fmt(dur);
                if (miniProgress) miniProgress.style.width = pct + '%';
                if (miniElapsed) miniElapsed.textContent = fmt(cur);
                if (miniTotal) miniTotal.textContent = fmt(dur);
                rafId = requestAnimationFrame(animate);
            }

            function setPlayIcon(isPlaying) {
                const playD = 'M8 5v14l11-7z';
                const pauseD = 'M6 5h4v14H6zm8 0h4v14h-4z';
                if (playIconPath) playIconPath.setAttribute('d', isPlaying ? playD : pauseD);
                if (miniPlayIconPath) miniPlayIconPath.setAttribute('d', isPlaying ? playD : pauseD);
            }
            function setMuteIcon(isMuted) {
                const mutedD = 'M7 9v6h4l5 5V4l-5 5H7z';
                const unmutedD = 'M5 9v6h4l5 5V4l-5 5H5zm10-1.5 1.5-1.5A8 8 0 0 1 20 12a8 8 0 0 1-3.5 6.5L15 17a5 5 0 0 0 0-10z';
                if (muteIconPath) muteIconPath.setAttribute('d', isMuted ? mutedD : unmutedD);
                if (miniMuteIconPath) miniMuteIconPath.setAttribute('d', isMuted ? mutedD : unmutedD);
            }
            function togglePlay() {
                const state = player?.getPlayerState?.();
                if (state === YT.PlayerState.PLAYING) {
                    player.pauseVideo();
                    setPlayIcon(false);
                } else {
                    player.playVideo();
                    setPlayIcon(true);
                }
            }
            function toggleMute() {
                const isMuted = player?.isMuted?.();
                if (isMuted) {
                    player.unMute();
                    setMuteIcon(false);
                } else {
                    player.mute();
                    setMuteIcon(true);
                }
            }
            playBtn?.addEventListener('click', togglePlay);
            muteBtn?.addEventListener('click', toggleMute);
            miniPlay?.addEventListener('click', togglePlay);
            miniMute?.addEventListener('click', toggleMute);

            // Seek via click/keyboard
            function seekTo(clientX){
                const rect = progressBar.getBoundingClientRect();
                const ratio = Math.max(0, Math.min(1, (clientX - rect.left) / rect.width));
                const dur = player?.getDuration?.() || 0; player?.seekTo?.(dur * ratio, true);
            }
            progressBar?.addEventListener('click', (e)=> seekTo(e.clientX));
            progressBar?.addEventListener('keydown', (e)=>{
                if (!player) return;
                const dur = player.getDuration() || 0; const cur = player.getCurrentTime() || 0;
                if (e.key === 'ArrowRight') { player.seekTo(Math.min(dur, cur + 5), true); e.preventDefault(); }
                if (e.key === 'ArrowLeft') { player.seekTo(Math.max(0, cur - 5), true); e.preventDefault(); }
                if (e.key === 'Home') { player.seekTo(0, true); e.preventDefault(); }
                if (e.key === 'End') { player.seekTo(dur - 1, true); e.preventDefault(); }
            });

            // Volume control mirrored across players
            function setVolumeFromSlider(v){
                const vol = Math.max(0, Math.min(100, Number(v)||0));
                player?.setVolume?.(vol);
                if (vol === 0) { if (!player?.isMuted?.()) player.mute(); setMuteIcon(true); }
                else { if (player?.isMuted?.()) player.unMute(); setMuteIcon(false); }
            }
            miniVol?.addEventListener('input', (e)=> setVolumeFromSlider(e.target.value));

            // Show mini player when scrolled past hero
            const hero = document.querySelector('.hero');
            const io = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (!entry.isIntersecting) {
                        mini.style.display = 'block';
                    } else {
                        mini.style.display = 'none';
                    }
                });
            }, { threshold: 0.05 });
            if (hero && mini) io.observe(hero);
        }
    </script>
</body>
</html>
